<link rel="stylesheet" type="text/css" href="stylesheets/login.css" />
<div class="container login-container" ng-app="loginApp">
    <div class="row">
        <div class="col-md-4">
            <form role="form" 
                  name="form" 
                  ng-submit="login(form)" 
                  ng-show="page_name=='login-page'">
                <fieldset>  
                    <h2>Please Sign In</h2>
                    <hr class="colorgraph">
                    <div class="form-group" ng-class="{'has-error': form.email.$error.mongoose}">
                        <input type="email"
                               name="email"
                               placeholder="Email" 
                               id="email"
                               class="form-control input-lg" 
                               ng-model="user.email"
                               required
                               autofocus
                               mongoose-error />
                        <p class="help-block"
                           ng-show="form.email.$error.mongoose">
                            {{ errors.email }}
                        </p>
                    </div>
                    <div class="form-group"  ng-class="{'has-error': form.password.$error.mongoose}">
                        <input type="password" 
                               class="form-control input-lg" 
                               placeholder="Password" 
                               name="password" 
                               id="password"
                               ng-model="user.password"
                               required
                               mongoose-error />
                        <p class="help-block" ng-show="form.password.$error.mongoose">
                            {{ errors.password }}
                        </p>
                    </div>
                    
                    <div class="form-group has-error">
                        <p class="help-block">{{ error.other }}</p>
                    </div>

                    <span class="button-checkbox">
                        <button type="button" class="btn-remember-me btn btn-default" ng-click="btnRememberMeClick()">Remember Me</button>
                        <a href="" class="btn btn-link pull-right" ng-click="btnSwitchPage(2)">Forgot Password?</a>
                    </span>
                    <hr class="colorgraph">
                    <div class="row">
                        <div class="col-md-4">
                            <input type="submit" class="btn btn-lg btn-success btn-block" value="Sign In">
                        </div>
                        <div class="col-md-4">
                            <a href="" class="btn btn-lg btn-primary btn-block" ng-click="btnSwitchPage(1)">Register</a>
                        </div>
                    </div>
                </fieldset>
            </form>
            
            <form role="form"
                  ng-submit="signup(form)" 
                  ng-show="page_name=='signup-page'">
                <fieldset>
                    <h2>Please Sign Up</h2>
                    <hr class="colorgraph">
                    <div class="form-group" ng-class="{'has-error': form.user_email.$error.mongoose}">
                        <input type="user_email" 
                               name="user_email"
                               placeholder="Email" 
                               class="form-control input-lg"
                               ng-model="user.user_email"
                               required
                               autofocus
                               mongoose-error />
                         <p class="help-block"
                            ng-show="form.user_email.$error.email && !form.user_email.$focused">
                                Not a valid email.
                        </p>
                        <p class="help-block"
                           ng-show="form.user_email.$error.mongoose">
                                {{ errors.email }}
                        </p>
                    </div>
                    <div class="form-group" ng-class="{'has-error': form.user_name.$error.mongoose}">
                    <input class="form-control input-lg"
                           placeholder="Username"
                           type="user_name"
                           name="user_name"
                           ng-model="user.user_name"
                           required
                           unique-username
                           mongoose-error />
                    <p class="help-block"
                       ng-show="form.user_name.$error.unique && form.user_name">
                        That username is already taken.
                    </p>
                    <p class="help-block"
                       ng-show="form.password.$error.mongoose">
                        {{ errors.user_name }}
                    </p>
                </div>
                    <div class="form-group" ng-class="{'has-error': form.password.$error.mongoose}">
                        <input type="password" 
                               name="password"
                               placeholder="Password" 
                               id="password"
                               ng-model="user.password"
                               ng-minlength="5" 
                               class="form-control input-lg" 
                               required
                               mongoose-error />
                        <p class="help-block"
                            ng-show="(form.password.$error.minlength || form.password.$invalid)
                                && form.password.$dirty && !form.password.$error.required">
                                Password must be at least 5 characters.
                        </p>
                        <p class="help-block"
                            ng-show="form.password.$error.mongoose">
                            {{ errors.password }}
                        </p>
                    </div>
                    <hr class="colorgraph">
                    <div class="row">
                        <div class="col-md-4">
                            <input type="submit" class="btn btn-lg btn-success btn-block" value="Register">
                        </div>
                        <div class="col-md-4">
                            <a href="" class="btn btn-lg btn-default btn-block" ng-click="btnSwitchPage(0)">Sign In</a>
                        </div>
                    </div>
                </fieldset>
            </form>

            <form role="form" ng-show="page_name=='forgotpwd-page'">
                <fieldset>
                    <h2>Please enter your email address</h2>
                    <hr class="colorgraph">
                    <div class="form-group">
                        <input type="email" name="email" id="email" class="form-control input-lg" placeholder="Email Address">
                    </div>
                    <hr class="colorgraph">
                    <div class="row">
                        <div class="col-md-4">
                            <input type="submit" class="btn btn-lg btn-success btn-block" value="Reset">
                        </div>
                        <div class="col-md-4">
                            <a href="" class="btn btn-lg btn-default btn-block" ng-click="btnSwitchPage(0)">Sign In</a>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>

</div>
